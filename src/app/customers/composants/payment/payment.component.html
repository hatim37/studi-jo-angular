<mat-dialog-content class="mat-typography">
  <mat-card>
    <mat-card-title class="mb-2">Paiement</mat-card-title>
    <mat-card-content>
      <form [formGroup]="paymentForm">
        <mat-form-field>
          <mat-label>Type de carte</mat-label>
          <mat-select required formControlName="card">
            @for (card of cards; track card) {
              <mat-option [value]="card.value">{{card.viewValue}}</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Numéro</mat-label>
          <input matInput formControlName="number" placeholder="**** **** **** ****" required mask="0000 0000 0000 0000">
          <mat-error *ngIf="paymentForm.get('number')?.invalid && paymentForm.get('number')?.touched">
            Numéro invalide
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Date expiration</mat-label>
          <input matInput type="text" formControlName="date" placeholder="**/**" required mask="00/00">
          <mat-error *ngIf="paymentForm.get('date')?.invalid && paymentForm.get('date')?.touched">
            Date invalide
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Code 3 chiffres</mat-label>
          <input matInput type="text" formControlName="verif" placeholder="***" required mask="000">
          <mat-error *ngIf="paymentForm.get('verif')?.invalid && paymentForm.get('verif')?.touched">
            Format invalide
          </mat-error>
        </mat-form-field>

        <div class="button-row">
          <button mat-raised-button color="primary" type="submit" [disabled]="paymentForm.invalid" class="order-button" (click)="onSubmit()">
            Valider
          </button>
          <button mat-stroked-button color="warn" class="close-button" (click)="closeForm()">
            Annuler
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</mat-dialog-content>
